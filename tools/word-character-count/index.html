<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Word & Character Count</title>
  <link rel="stylesheet" href="/assets/tw.css">
</head>
<body>
  <main class="mx-auto max-w-3xl space-y-6 p-4 font-sans md:p-6">
    <header class="space-y-2 text-center">
      <h1 class="text-3xl font-semibold text-gray-900">Word &amp; Character Count</h1>
      <p class="text-gray-600">Paste or type text to see live counts for characters, words, sentences, and lines.</p>
    </header>

    <section class="card space-y-4 p-6 md:p-8">
      <label for="text" class="sr-only">Text to analyse</label>
      <textarea
        id="text"
        class="min-h-[50vh] w-full rounded-xl border border-gray-200 bg-white p-4 text-lg leading-relaxed shadow-soft focus:border-brand-500 focus:ring-2 focus:ring-brand-500"
        placeholder="Start typing or paste text here..."
      ></textarea>
      <div class="grid gap-4 rounded-xl border border-gray-100 bg-white/90 p-4 shadow-soft sm:grid-cols-2 lg:grid-cols-4">
        <div class="space-y-1">
          <span class="text-xs font-semibold uppercase tracking-wide text-gray-500">Characters</span>
          <span id="characters" class="text-2xl font-semibold text-gray-900">0</span>
        </div>
        <div class="space-y-1">
          <span class="text-xs font-semibold uppercase tracking-wide text-gray-500">Words</span>
          <span id="words" class="text-2xl font-semibold text-gray-900">0</span>
        </div>
        <div class="space-y-1">
          <span class="text-xs font-semibold uppercase tracking-wide text-gray-500">Sentences</span>
          <span id="sentences" class="text-2xl font-semibold text-gray-900">0</span>
        </div>
        <div class="space-y-1">
          <span class="text-xs font-semibold uppercase tracking-wide text-gray-500">Lines</span>
          <span id="lines" class="text-2xl font-semibold text-gray-900">0</span>
        </div>
      </div>
    </section>
    <footer class="py-6 text-center text-sm text-gray-500">
      <a href="https://tools.dave.engineer" class="font-medium text-brand-700 hover:text-brand-600">&larr; Back to tools.dave.engineer</a>
    </footer>
  </main>

  <script>
    const textarea = document.getElementById('text');
    const charactersEl = document.getElementById('characters');
    const wordsEl = document.getElementById('words');
    const sentencesEl = document.getElementById('sentences');
    const linesEl = document.getElementById('lines');

    const countWords = (text) => {
      const matches = text.trim().match(/[^\s]+/g);
      return matches ? matches.length : 0;
    };

    const countSentences = (text) => {
      const trimmed = text.trim();
      if (!trimmed) return 0;
      const matches = trimmed.match(/[^.!?\s][^.!?]*(?:[.!?](?!['"]?\s|$)[^.!?]*)*[.!?]?/g);
      return matches ? matches.length : 0;
    };

    const countLines = (text) => {
      if (!text) return 0;
      return text.split(/\r\n|\r|\n/).length;
    };

    const updateCounts = () => {
      const text = textarea.value;
      charactersEl.textContent = text.length;
      wordsEl.textContent = countWords(text);
      sentencesEl.textContent = countSentences(text);
      linesEl.textContent = countLines(text);
    };

    textarea.addEventListener('input', updateCounts);
    updateCounts();
  </script>
</body>
</html>
